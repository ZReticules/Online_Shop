DROP DATABASE OnlineShop;
CREATE DATABASE OnlineShop CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE OnlineShop;
CREATE TABLE Users(
    U_ID INTEGER PRIMARY KEY AUTO_INCREMENT,
    U_Name VARCHAR(40) NOT NULL,
    U_Password VARCHAR(40) NOT NULL,
    U_Age INTEGER NOT NULL,
    U_City VARCHAR(30)
);
CREATE TABLE Products(
    P_ID INTEGER PRIMARY KEY AUTO_INCREMENT,
    P_Name VARCHAR(30),
    P_Price INTEGER NOT NULL,
    P_Count INTEGER NOT NULL
);
CREATE TABLE Bills(
    B_ID INTEGER PRIMARY KEY AUTO_INCREMENT,
    B_User INTEGER NOT NULL,
    B_Count INTEGER NOT NULL,
    FOREIGN KEY (B_User) REFERENCES Users(U_ID)
);
CREATE TABLE Bills_Products(
    PB_Bill INTEGER NOT NULL,
    PB_Product INTEGER NOT NULL,
    FOREIGN KEY (PB_Bill) REFERENCES Bills(B_ID),
    FOREIGN KEY (PB_Product) REFERENCES Products(P_ID)
)